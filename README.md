# Yet Another Particle Transport IDE - converter

The Converter of the project file (JSON file generated by the frontend part) into a set of input files for particle transport simulators:

-   SHIELD-HIT12A (beam.dat, mat.dat, geo.dat and detect.dat).
-   TOPAS
-   Fluka

## Requirements

-   Python 3.9+
-   pip 21.3+
-   venv

## Installation

To install the project clone the repository and run the following command in the project directory:

```bash
# For Linux/MacOS
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
pip install -e .

# For Windows
python -m venv venv
venv\Scripts\activate.bat
pip install -r requirements.txt
pip install -e .
```

## Usage

The converter comes with a command line application.
It is capable of transforming the JSON project file (generated in the yaptide web interface) into a set of valid input files for SHIELD-HIT12A.

To run the converter use the following command:

```bash
python converter/main.py tests/shieldhit/resources/project.json workspace
```

## Testing

To run the unit tests run the following command in the project directory (inside the virtual environment):

```bash
# For Linux/MacOS
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
pip install -e .
pip install -r test_requirements.txt
pytest

# For Windowsfilecmp.cmp(tmp_path / filename, path_to_dir_with_expected_output / filename)
python -m venv venv
venv\Scripts\activate.bat
pip install -r requirements.txt
pip install -e .
pip install -r test_requirements.txt
pytest
```

## Credits

This work was partially funded by EuroHPC PL Project, Smart Growth Operational Programme 4.2
